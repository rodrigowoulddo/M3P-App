<!--
  Generated template for the AvaliacaoCriteriosPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{nivel?.nome}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding class="bg-image">
  <div class="browser-compat">


    <!--Avaliação Manual-->
    <ion-card *ngIf="avaliacaoService.newMostrarCardAvaliacaoManualNivel(nivel)">

      <ion-card-header margin-left="45" margin-right="45" text-center="">
        <h2>Avaliação Manual de Nível</h2>
        <ion-note text-wrap>É obrigatória a definição manual da avaliação deste nível, devido aos critérios pendentes</ion-note>
      </ion-card-header>

      <ion-card-content>

        <div text-center>
          <button
            ion-button round  small color="avaliacaoVermelho" [outline]="nivel.avaliacaoManual !== 'vermelho'"
            (click)="nivel.avaliacaoManual !== 'vermelho'? avaliarNivelManual('vermelho'): avaliarNivelManual(null)">
            <ion-icon name="close"></ion-icon>
          </button>

          <button
            ion-button round  small color="avaliacaoAmarelo" [outline]="nivel.avaliacaoManual !== 'amarelo'"
            (click)="nivel.avaliacaoManual !== 'amarelo'? avaliarNivelManual('amarelo'): avaliarNivelManual(null)">
            <ion-icon name="help"></ion-icon>
          </button>
        </div>


      </ion-card-content>

    </ion-card>

  <ion-card *ngFor="let criterio of criterios$ | async">

    <ion-item margin-left="45" padding-right="30" (click)="abrirItensDeAvaliacao(criterio)" (tap)="abrirItensDeAvaliacao(criterio)">
      <ion-card-title>{{criterio.nome}}</ion-card-title>
      <ion-icon item-end [color]="avaliacaoService.newGetCorCriterio(criterio)" [name]="avaliacaoService.newGetAvaliacaoCriterio(criterio) == 'avaliacaoManual'? avaliacaoService.ICON_AVALIACAO_MANUAL : avaliacaoService.ICON_ESTRELA"></ion-icon>
    </ion-item>

    <ion-card-content (click)="abrirItensDeAvaliacao(criterio)">
      <p margin-left="25" margin-right="20">{{criterio.descricao}}</p>
    </ion-card-content>
  </ion-card>

  </div>
</ion-content>
