<!--
  Generated template for the AvaliacaoCriteriosPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{nivel?.nome}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding class="bg-image">
  <div class="browser-compat">


    <!--Avaliação Manual-->
    <ion-card *ngIf="avaliacaoService.getCorNivelAutomatico(nivel) === 'avaliacaoAmarelo'">

      <ion-card-header margin-left="45" margin-right="45" text-center="">
        <h2>Avaliação Manual de Nível</h2>
        <ion-note text-wrap>É obrigatória a definição manual da avaliação deste nível, devido aos critérios pendentes</ion-note>
      </ion-card-header>

      <ion-card-content>

        <div text-center>
          <button
            ion-button round  small color="avaliacaoVermelho" [outline]="nivel.avaliacaoManual !== 'vermelho'" (click)="avaliarNivelManual('vermelho')">
            <ion-icon name="close"></ion-icon>
          </button>

          <button
            ion-button round  small color="avaliacaoAmarelo" [outline]="nivel.avaliacaoManual !== 'amarelo'" (click)="avaliarNivelManual('amarelo')">
            <ion-icon name="help"></ion-icon>
          </button>

          <button
            ion-button
            mini
            clear
            icon-only
            (click)="avaliarNivelManual(null)">
            <ion-icon
              color="avaliacaoCinza"
              name="close-circle">
            </ion-icon>
          </button>


        </div>


      </ion-card-content>

    </ion-card>

  <ion-card *ngFor="let criterio of criterios$ | async">

    <!--<ion-card-header>-->
    <ion-item margin-left="45" padding-right="30" (click)="abrirItensDeAvaliacao(criterio)">
      <ion-card-title>{{criterio.nome}}</ion-card-title>
      <ion-icon *ngIf="!((avaliacaoService.getCorCriterio(criterio) === 'avaliacaoAmarelo') && !criterio.avaliacaoManual)"    item-end [color]="avaliacaoService.getCorCriterio(criterio)" name="star"></ion-icon>
      <ion-icon *ngIf="(avaliacaoService.getCorCriterio(criterio) === 'avaliacaoAmarelo') && !criterio.avaliacaoManual"       item-end color="avaliacaoAmarelo" name="md-help"></ion-icon>
    </ion-item>
    <!--</ion-card-header>-->

    <ion-card-content (click)="abrirItensDeAvaliacao(criterio)">
      <p margin-left="25" margin-right="20">{{criterio.descricao}}</p>
    </ion-card-content>
  </ion-card>

  </div>
</ion-content>
